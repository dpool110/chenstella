---
title: matlab代码自救手册
categories: 数学建模
tags:
  - matlab
  - 数学建模
cover: 'https://i.loli.net/2020/07/23/5Q4GBWqydsfTMlj.jpg'
abbrlink: 9917
date: 2020-07-20 14:47:49
---

# Matlab基本的小常识

**在每一行的语句后面加上分号表示不显示运行结果**
	```
		a = 3;  (不显示运行结果)
		a = 5  (直接显示运行结果)
	```
**多行注释:选中要注释的若干语句,快捷键Ctrl+R**
	```
		% a = 3;
		% a = 5
	```

**取消注释:选中要取消注释的语句,快捷键Ctrl+T**
	```
		% 我想要取消注释下面这行
		% 还有这一行
	```

**清除命令**
这两条一起使用，起到“初始化”的作用，防止之前的结果对新脚本文件（后缀名 .m）产生干扰
	```
		clear;clc   % 分号也用于区分行
	```
# matlab常用函数

## 输出和输入函数(disp 和 input)
**disp函数**

> matlab中disp()就是屏幕输出函数，类似于c语言中的printf（）函数

	```
		disp('数学建模')
		a = [1,2,3]  %同一行中间用逗号分隔，也可以不用逗号，直接用空格
		a = [1 2 3]
		a = [1;2;3]  %分号可以用来分割每一行的元素
		disp(a)  % 注意，disp函数比较特殊，这里可要分号，可不要分号哦
		disp(a);
	```




**input函数**
	一般我们会将输入的数、向量、矩阵、字符串等赋给一个变量，这里我们赋给A

	```
		A = input(请输入A：);
		B = input(请输入B：)
	```
> 通过input函数我们可以给变量赋值任意的数，有分号不显示输出，没加分号会显示输入的数字。


## 两个字符串的合并

**strcat(str1,str2...,strn)**

	```
		strcat('字符串1','字符串2')
	```
> 输出：'字符串1字符串2'

**strcat('字符串1','字符串2')**
	```
		['字符串1','字符串2']
		['字符串1' '字符串2']
	```
> 输出：
	'字符串1字符串2'

## num2str函数
**num2str函数可将数字转换为字符串**

~~~matlab
```
	c = 100
	num2str(c)
	disp(['c的取值为' num2str(c)])
	disp(strcat('c的取值为', num2str(c)))
```
~~~
> 输出：
	c的取值为100
	c的取值为100


## sum函数

 **1、如果是向量（无论是行向量还是列向量），使用sum函数都是直接求和**

~~~matlab
	```
		E = [1,2,3]
		sum(E)
		E = [1;2;3]
		sum(E)
	```
~~~
> 输出：
E = 6
E = 6


**2、如果是矩阵，则需要根据行和列的方向作区分**

~~~matlab
	 ```
		clc
		E = [1,2;3,4;5,6]
		% a=sum(x); %按列求和(得到一个行向量）,默认按列求和
		a = sum(E)
		a = sum(E,1)%“1”表示维度dim=1按照列求和，dim=2表示按行求和（默认dim=1）
		% a=sum(x,2); %按行求和(得到一个列向量）
		a = sum(E,2)
		% a=sum(x(:));%对整个矩阵求和
		a = sum(sum(E))
		a = sum(E(:))
	 ```
~~~

## 提取矩阵中指定位置的元素

 **1、取指定行和列的一个元素（输出的是一个值）**

~~~matlab
```
	A=[1 1 4 1/3 3;1 1 4 1/3 3;1/4 1/4 1 1/3 1/2;3 3 3 1 3;1/3 1/3 2 1/3 1];

	A(2,1)  %取第2行第1列的元素
	A(3,2)  %取第3行第2列的元素
	
```
~~~
 **2、取指定的某一行的全部元素（输出的是一个行向量）**

~~~matlab
```
	A=[1 1 4 1/3 3;1 1 4 1/3 3;1/4 1/4 1 1/3 1/2;3 3 3 1 3;1/3 1/3 2 1/3 1];s
	A(2,:)  %取第2行的所有元素
	A(5,:)  %取第5行的所有元素
```
~~~

 **3、取指定的某一列的全部元素（输出的是一个列向量）**
	
~~~matlab
```
	A=[1 1 4 1/3 3;1 1 4 1/3 3;1/4 1/4 1 1/3 1/2;3 3 3 1 3;1/3 1/3 2 1/3 1];
	A([2,5],:)      % 只取第二行和第五行（一共2行）
	A(2:5,:)        % 取第二行到第五行（一共4行）
	A(2:2:5,:)     % 取第二行和第四行（从2开始，每次递增2个单位，到5结束）
```
~~~

 **4、取指定的某些行的全部元素（输出的是一个矩阵）**

~~~matlab
```
	A=[1 1 4 1/3 3;1 1 4 1/3 3;1/4 1/4 1 1/3 1/2;3 3 3 1 3;1/3 1/3 2 1/3 1];
	A(2:end,:)      % 取第二行到最后一行
	A(2:end-1,:)    % 取第二行到倒数第二行
```
~~~

 **5、取全部元素(按列拼接的，最终输出的是一个列向量)**

~~~matlab
```
	A=[1 1 4 1/3 3;1 1 4 1/3 3;1/4 1/4 1 1/3 1/2;3 3 3 1 3;1/3 1/3 2 1/3 1];
	A(:)
```
~~~

## size函数

~~~matlab
```
	A = [1,2,3;4,5,6]
	B = [1,2,3,4,5,6]
	size(A)
	size(B)
```
~~~

> size(A)函数是用来求矩阵A的大小的,它返回一个行向量，第一个元素是矩阵的行数，第二个元素是矩阵的列数

~~~matlab
```
	[r,c] = size(A)
```
~~~


> 将矩阵A的行数返回到第一个变量r，将矩阵的列数返回到第二个变量c

~~~matlab
```
	r = size(A,1)  %返回行数
	c = size(A,2) %返回列数
```
~~~

## repmat函数

**“B = repmat(A,m,n)”：将矩阵A复制m×n块，即把A作为B的元素，B由m×n个A平铺而成**
	
~~~matlab
```
	A = [1,2,3;4,5,6]
	B = repmat(A,2,1)
	B = repmat(A,3,2)
```
~~~

> B = repmat(A,m,n):将矩阵A复制m×n块，即把A作为B的元素，B由m×n个A平铺而成


## Matlab中矩阵的运算 

**1、MATLAB在矩阵的运算中，“*”号和“/”号代表矩阵之间的乘法与除法(A/B = A*inv(B))**

~~~matlab
```
A = [1,2;3,4]
B = [1,0;1,1]
A * B
inv(B)  % 求B的逆矩阵
B * inv(B)  %求出结果为单位矩阵
A * inv(B)
A / B
```
~~~

**2、两个形状相同的矩阵对应元素之间的乘除法需要使用“.*”和“./”**

~~~matlab
```
	A = [1,2;3,4]
	B = [1,0;1,1]
	A .* B
	A ./ B
```
~~~

**3、每个元素同时和常数相乘或相除操作都可以使用“.*”和“./”**

~~~matlab
```
	A = [1,2;3,4]
	A * 2
	A .* 2
	A / 2 
	A ./ 2
```
~~~

**4、每个元素同时乘方时只能用 “.^”进行计算**

~~~matlab
```
	A = [1,2;3,4]
	A .^ 2 % 等于A.*A
	A ^ 2 
	A * A
```
~~~

## Matlab中求特征值和特征向量

**1、在Matlab中，计算矩阵A的特征值和特征向量的函数是eig(A)**

~~~matlab
```
	A = [1 2 3 ;2 2 1;2 0 3]
	%（1）E=eig(A)：求矩阵A的全部特征值，构成向量E
	E=eig(A)
	%（2）[V,D]=eig(A)：求矩阵A的全部特征值，构成对角阵D，并求A的特征向量构成V的列向量。（V中每一列的特征值对应D中相同列的特征向量）
	[V,D]=eig(A)
```
~~~

## find函数的基本用法

**find函数，它可以用来返回向量或者矩阵中不为0的元素的位置索引；[详细内容](https://www.cnblogs.com/anzhiwu815/p/5907033.html)**

~~~matlab
```
	clc;X = [1 0 4 -3 0 0 0 8 6]
	ind = find(X)
	% 其有多种用法，比如返回前2个不为0的元素的位置：
	ind = find(X,2)
```
~~~

**若X是一个矩阵（二维，有行和列），索引如下所示**

~~~matlab
```
	clc;X = [1 -3 0;0 0 8;4 0 6]
	ind = find(X)
	% 因为在Matlab在存储矩阵时，是一列一列存储的
	% 按照行列的信息输出
	[r,c] = find(X)
	[r,c] = find(X,1) %只找第一个非0元素
```
~~~

## 矩阵与常数的大小判断运算

> 共有三种运算符：大于> ;小于< ;等于 ==（一个等号表示赋值；两个等号表示判断）

~~~matlab
```
	X = [1 -3 0;0 0 8;4 0 6]
	X > 0
	X == 4
```
~~~

## 判断语句

**Matlab的判断语句，if所在的行不需要冒号，语句的最后一定要以end结尾 ；中间的语句要注意缩进**

~~~matlab
```
	a = input('请输入考试分数:')
	if a >= 85  
	    disp('成绩优秀')
	elseif a >= 60 
	    disp('成绩合格')
	else
	    disp('成绩挂科')
	end
```
~~~

## 幻方矩阵

**矩阵函数，用作生成一个每一列和都相等的n×n矩阵**
	```
		A = magic(2)
		B = mafic(4)
	```
**输出：**
![7_23_01.png](https://i.loli.net/2020/07/23/JKjrtzbQ7vhP4VE.png)

## 矩阵排序

**MATLAB中排序函数sort()可以对参数的元素进行升序排序或降序排序，具体用法如下：**

![7_23_02png.png](https://i.loli.net/2020/07/23/LrinDm3J2Kd7aFp.png)