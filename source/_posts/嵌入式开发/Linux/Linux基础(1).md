---
title: Linux基础(1)
categories: 嵌入式开发
tags:
  - 嵌入式开发基础
  - Linux
abbrlink: 34291
date: 2022-10-08 15:50:26
cover: https://media.geeksforgeeks.org/wp-content/uploads/s2-1.jpg
---

# Linux基础(1)

## VMware和centOS安装

VMware的安装没有什么需要注意的到网上随便搜个教程即可

关于centOS的安装，之前安装过许多次，但是看了韩顺平老师的课程后，才发现有许多需要注意的问题，下面列出一些比较重要的问题。[教程点这里>>>>>>>>>>](https://www.bilibili.com/video/BV1Sv411r7vd?p=5&spm_id_from=pageDriver&vd_source=5b4d08529df3a64bc1463e2ab87b4577)

### centOS安装注意事项

#### 网络适配器的选择

对于网络连接的设置我们选择默认的**NAT模式**即可，而对于另外两种**桥接模式**和**主机模式**这三种网络连接方式的特点如下：

- **桥接模式：**虚拟的Linux系统可以和外部系统通信，使用的是类似`192.168.0.xxx`的同一网段，因为每一位的最大值只有255(可能没有255个其中`.1`是做网关和`.55`是做广播地址)，当连接过多时**容易造成IP冲突**。
- **NAT模式：**又叫网络地址转换模式，NAT模式使用的是代理方式和外部系统通信，在NAT模式下配置Linux虚拟系统的IP地址后，主机上对应也会生成一个虚拟网卡，虚拟网卡和Linux虚拟系统间会生成一个独立的可以相互通信的网络。而Linux虚拟系统会通过主机IP代理找到外部系统进行通信，这样Linux虚拟系统不仅可以和外部系统进行通信，同时不占用外部系统的IP，这样就**不会产生IP的冲突**。但是外部系统不能直接和Linux虚拟系统进行通信。
- **主机模式：**独立的系统，不和外界发生联系。

![](https://raw.githubusercontent.com/dpool110/picgo/master/202210092006761.png)

> **总结：**
>
> 1. 桥接模式，虚拟机可以和外部系统直接通信，但是容易造成IP冲突。
> 2. NAT模式，网络地址转换模式，虚拟系统可以和外部系统通讯，不会造成IP冲突。
> 3. 主机模式，独立的系统，不和外界发生联系。

#### 软件的选择

在之前的安装过程中一直选择的是最小安装，这就需要我们手动安装最小安装中没有的gcc、JDK、MySQL等基本的开发环境。选择GNOME桌面，并勾选上途中附加选项即可。

![](https://raw.githubusercontent.com/dpool110/picgo/master/202210092007395.png)

#### 磁盘分区

<font style="background-color:red">磁盘分区一定要手动进行分区</font>

网上大部分的安装教程，对于磁盘的分区都差不多，都是分为`/boot`引导分区，`swap`交换分区和`/`根分区。

其中`swap`分区到底有什么作用呢？程序运行时，我们需要将程序加载到内存中，但是内存的容量是有限的，当我们的内存被占满时其他的程序就进入不了内存。这个时候就产生了交换分区的方案就是我们的`swap`分区，它可以在内存被占满时临时地充当内存，是对内存机制地补充。所以在内存被占满的场景下，后来的程序会先加载到swap分区中，当实际内存中有空间会将此程序加载进来。但是swap分区的速度要慢于实际内存的读写速度。

> **总结：**
>
> swap分区可以理解为是操作系统提供的一种内存不足的解决机制，可以理解为windows中的虚拟内存。
>
> [具体看这里>>>>](http://c.biancheng.net/view/907.html)

#### 文件系统

当进行手动分区时，`/boot`和`/`在centOS 7的文件系统中，默认选择的都是xfs-64位高性能日志文件系统，在centOS 6中默认使用的是ext4-第四代文件扩展系统。但是在韩顺平老师的视频中在安装centOS 7的情况下，依然选择了ext4文件系统。

> **知识补充**
>
> <img src="https://raw.githubusercontent.com/dpool110/picgo/master/202210091923780.png" style="zoom:50%;" />
>
> 应用程序--------用户应用的程序(微信 游戏)
> 库文件-----------静态库和动态库
> 根文件系统-----可以把硬盘中二进制的数据转变为不同类型的文件
> Kernel-----------启动内核
> GRUB-----------引导内核 在linux操作系统中，在boot目录下
> BIOS-------------检测硬件	(在ARM架构中 BIOS + GRUB = bootloader --作用-->检测硬件+引导内核)

## Linux操作系统的认知

**在 Windows 下**，打开 “我的电脑”，我们看到的是一个个的驱动器盘符，每个驱动器都有自己的根目录结构，这样形成了多个树并列的情形
**在 Linux 下**，我们是看不到这些驱动器盘符，我们看到的是文件夹（目录）：Linux没有盘符这个概念，只有一个根目录 `/`，所有文件都在它下面

|  目录   |                             用处                             |
| :-----: | :----------------------------------------------------------: |
|  `bin`  |                 存放的是二进制的文件（命令）                 |
| `boot`  |                    存放的是引导内核的文件                    |
|  `dev`  |                     存放的是各种设备文件                     |
|  `etc`  |                     存放的是各种配置文件                     |
| `home`  |                   存放的是超级用户的家目录                   |
|  `lib`  |                      存放的是各种库文件                      |
| `media` |             用来挂载存储介质或者流媒体介质的文件             |
|  `mnt`  |                    系统默认用来挂载的目录                    |
| `proc`  | 动态的目录（不能用于存储文件）<br />（系统内核的信息、进程的信息、内存映射的信息） |
| `root`  |                       超级用户的家目录                       |

## 终端的使用

### 终端的打开

1. 鼠标右键->打开终端

2. 左下角->显示应用程序->终端
3. 快捷键 `ctrl + alt + t`

### 终端标签页的使用

1. 打开终端标签页 `ctrl + shift + t`
2. 打开终端标签页`ctrl + shift + w`
3. 切换终端标签页 `ctrl + pgup / pgdn`

> 注意：有些键盘功能键还有其他功能，使用`fn`加上上述快捷键试一试

### 终端提示符

打开终端之后首先看到的就是终端提示符

`root@zack-CSTG:~# `

`root@zack-CSTG:~$ `

在`@`之前的位置：显示的是当前登陆终端的用户

>  注意 : 
>
> root用户是超级用户,是在安装Ubuntu操作系统时就被系统创建出的用户
>
> `#`		代表超级用户
>
> `$`		代表普通用户

|   从@开始   |                    |
| :---------: | :----------------: |
|     `@`     | 分割信息的分割符号 |
| `zack-CSTG` |       主机名       |
|     `:`     | 分割信息的分割符号 |
|  在`:`之后  |  当前终端所在路径  |

### 路径

路径可以分为**绝对路径**和**相对路径**

从根目录出发，一层一层递进的路径是**绝对路径**，其余的都是**相对路径**



> **如何区分一个路径是不是绝对路径?**
>
> 查看该路径的最左边是不是`/` ,如果是`/`就是绝对路径
>
> > **例:**
> > `/home/zack/桌面`	从根目录出发一层一层递进，是绝对路径
> > `~/桌面`	不是绝对路径

### 修改终端提示符长度

> **注意:**
> 如果修改`/etc`下的配置文件,会影响所有用户
> 如果修改家目录下的配置文件,会影响当前用户

修改终端提示符的配置文件，在终端输入`vim ~/.bashrc`，大约在文件第60行：

```c
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\[\033[01;34m\]\W\[\033[00m\]\$ '
```

把 `@` 之后到 `:` 的内容都删除掉	(删除的是主机名)

`\w` 修改成 `\W`（代表目录路径只显示最后一级）

保存退出，最后终端输入`sync`，同步信息
